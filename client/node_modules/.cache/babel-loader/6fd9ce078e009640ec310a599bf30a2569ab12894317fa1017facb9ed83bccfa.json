{"ast":null,"code":"import axios from'axios';const apiUrl=\"http://localhost:5017/\";// axios.defaults.baseURL = \"http://localhost:5017\";\n// הוספת interceptor שתופס את השגיאות\naxios.interceptors.response.use(response=>response,error=>{console.error(\"API Error:\",error);return Promise.reject(error);// מחזיר את השגיאה כדי שנוכל לטפל בה בהמשך\n});export default{getTasks:async()=>{const result=await axios.get(`${apiUrl}`);return result.data;},addTask:async name=>{console.log('addTask',name);//TODO\ntry{const result=await axios.post(`${apiUrl}`,{name,isComplete:false});return result.data;}catch(error){console.error(\"Error adding task:\",error);return null;}},setCompleted:async(id,isComplete)=>{console.log('setCompleted',{id,isComplete});//TODO\ntry{const result=await axios.put(`${apiUrl}${id}`,{isComplete});return result.data;}catch(error){console.error(\"Error setting completion:\",error);return null;}},deleteTask:async id=>{console.log(`Deleting task at: ${apiUrl}/${id}`);console.log('deleteTask');try{await axios.delete(`${apiUrl}${id}`);return{success:true};}catch(error){console.error(\"Error deleting task:\",error);return{success:false};}}};","map":{"version":3,"names":["axios","apiUrl","interceptors","response","use","error","console","Promise","reject","getTasks","result","get","data","addTask","name","log","post","isComplete","setCompleted","id","put","deleteTask","delete","success"],"sources":["C:/Users/Moriya/Documents/Programming/Year 2 programming/Practicode/TodoApi/client/src/service.js"],"sourcesContent":["import axios from 'axios';\r\nconst apiUrl = \"http://localhost:5017/\"; \r\n// axios.defaults.baseURL = \"http://localhost:5017\";\r\n\r\n// הוספת interceptor שתופס את השגיאות\r\naxios.interceptors.response.use(\r\n  response => response,\r\n  error => {\r\n    console.error(\"API Error:\", error);\r\n    return Promise.reject(error);  // מחזיר את השגיאה כדי שנוכל לטפל בה בהמשך\r\n  }\r\n);\r\n\r\nexport default {\r\n  getTasks: async () => {\r\n    const result = await axios.get(`${apiUrl}`)    \r\n    return result.data;\r\n  },\r\n\r\n  addTask: async(name)=>{\r\n    console.log('addTask', name)\r\n    //TODO\r\n    try {\r\n      const result = await axios.post(`${apiUrl}`, { name, isComplete: false });\r\n      return result.data;\r\n    } catch (error) {\r\n      console.error(\"Error adding task:\", error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  setCompleted: async(id, isComplete)=>{\r\n    console.log('setCompleted', {id, isComplete})\r\n    //TODO\r\n    try {\r\n      \r\n      const result = await axios.put(`${apiUrl}${id}`, { isComplete });\r\n      return result.data;\r\n    } catch (error) {\r\n      console.error(\"Error setting completion:\", error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  deleteTask:async(id)=>{\r\n    console.log(`Deleting task at: ${apiUrl}/${id}`);\r\n    console.log('deleteTask')\r\n    try {\r\n      await axios.delete(`${apiUrl}${id}`);\r\n      return { success: true };}\r\n     catch (error) {\r\n      console.error(\"Error deleting task:\", error);\r\n      return { success: false };\r\n    }\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,KAAM,CAAAC,MAAM,CAAG,wBAAwB,CACvC;AAEA;AACAD,KAAK,CAACE,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC7BD,QAAQ,EAAIA,QAAQ,CACpBE,KAAK,EAAI,CACPC,OAAO,CAACD,KAAK,CAAC,YAAY,CAAEA,KAAK,CAAC,CAClC,MAAO,CAAAE,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC,CAAG;AACjC,CACF,CAAC,CAED,cAAe,CACbI,QAAQ,CAAE,KAAAA,CAAA,GAAY,CACpB,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAV,KAAK,CAACW,GAAG,CAAC,GAAGV,MAAM,EAAE,CAAC,CAC3C,MAAO,CAAAS,MAAM,CAACE,IAAI,CACpB,CAAC,CAEDC,OAAO,CAAE,KAAM,CAAAC,IAAI,EAAG,CACpBR,OAAO,CAACS,GAAG,CAAC,SAAS,CAAED,IAAI,CAAC,CAC5B;AACA,GAAI,CACF,KAAM,CAAAJ,MAAM,CAAG,KAAM,CAAAV,KAAK,CAACgB,IAAI,CAAC,GAAGf,MAAM,EAAE,CAAE,CAAEa,IAAI,CAAEG,UAAU,CAAE,KAAM,CAAC,CAAC,CACzE,MAAO,CAAAP,MAAM,CAACE,IAAI,CACpB,CAAE,MAAOP,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1C,MAAO,KAAI,CACb,CACF,CAAC,CAEDa,YAAY,CAAE,KAAAA,CAAMC,EAAE,CAAEF,UAAU,GAAG,CACnCX,OAAO,CAACS,GAAG,CAAC,cAAc,CAAE,CAACI,EAAE,CAAEF,UAAU,CAAC,CAAC,CAC7C;AACA,GAAI,CAEF,KAAM,CAAAP,MAAM,CAAG,KAAM,CAAAV,KAAK,CAACoB,GAAG,CAAC,GAAGnB,MAAM,GAAGkB,EAAE,EAAE,CAAE,CAAEF,UAAW,CAAC,CAAC,CAChE,MAAO,CAAAP,MAAM,CAACE,IAAI,CACpB,CAAE,MAAOP,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD,MAAO,KAAI,CACb,CACF,CAAC,CAEDgB,UAAU,CAAC,KAAM,CAAAF,EAAE,EAAG,CACpBb,OAAO,CAACS,GAAG,CAAC,qBAAqBd,MAAM,IAAIkB,EAAE,EAAE,CAAC,CAChDb,OAAO,CAACS,GAAG,CAAC,YAAY,CAAC,CACzB,GAAI,CACF,KAAM,CAAAf,KAAK,CAACsB,MAAM,CAAC,GAAGrB,MAAM,GAAGkB,EAAE,EAAE,CAAC,CACpC,MAAO,CAAEI,OAAO,CAAE,IAAK,CAAC,CAAC,CAC1B,MAAOlB,KAAK,CAAE,CACbC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C,MAAO,CAAEkB,OAAO,CAAE,KAAM,CAAC,CAC3B,CACF,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}